<x-app-layout>
    <x-slot name="header">
        <!-- Game Title -->
        <h1 class="font-bold text-4xl text-yellow-400 leading-tight tracking-wider uppercase animate-pulse mb-8">
            Bidasari: The Quest Begins
        </h1>
    </x-slot>

    <div class="mb-12 flex flex-col items-center">
        <img src="/images/Bidasari.jpg" alt="Large Game Image" class="w-full max-w-4xl rounded-lg shadow-lg mb-4">

        <div class="bg-opacity-90 py-12 flex flex-col items-center justify-center">
            <h1 class="font-semibold text-3xl text-gray-500 mb-8">Map</h1>
            
            <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
                <!-- Features Section -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Feature 1: Explore -->
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                        <div class="flex flex-col items-center">
                            <img src="/images/map1.jpg" alt="Customize Icon" class="h-80 w-80 object-cover" style="object-position: center">
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                        <div class="flex flex-col items-center">
                            <img src="/images/map2.jpg" alt="Explore Icon" class="h-80 w-80 object-cover" style="object-position: center">
                        </div>
                    </div>
                    <!-- Feature 2: Battle -->
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                        <div class="flex flex-col items-center">
                            <img src="/images/map3.jpg" alt="Battle Icon" class="h-80 w-80 object-cover" style="object-position: center">
                        </div>
                    </div>
                    <!-- Feature 3: Customize -->
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                        <div class="flex flex-col items-center">
                            <img src="/images/map4.jpg" alt="Customize Icon" class="h-80 w-80 object-cover" style="object-position: center">
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                        <div class="flex flex-col items-center">
                            <img src="/images/map5.jpg" alt="Customize Icon" class="h-80 w-80 object-cover" style="object-position: center">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        

        <p class="text-lg text-gray-400 px-6 max-w-4xl">
            Ang epikong Bidasari ng Kamindanawan ay nababatay sa isang romansang Malay. Ayon sa kanilang paniniwala, upang tumagal ang buhay ng tao, ito'y pinaalagaan at iniingatan ng isang isda, hayop, halaman o ng punongkahoy.<br><br>
            Ang salaysay ng Bidasari ay ganito:<br>
            Ang kaharian ng Kembayat ay naliligalig dahil sa isang dambuhalang ibon. Ang ibong ito ay mapaminsala sa mga pananim at maging sa buhay ng tao. Ang ibong ito ay ang ibong garuda. Kapag dumarating na ang garuda, mabilis na nagtatakbuhan ang mga tao upang magtago sa mga yungib. Takot na takot sila sa ibong garuda pagka't ito'y kumakain ng tao.<br><br>
            Sa pagtatakbuhan ng mga tao, nagkahiwalay sa pagtakbo ang sultan at sultana ng Kembayat. Ang sultana ng Kembayat ay nagdadalantao noon. Sa laki ng takot ay naisilang niya ang sanggol na babae sa may tabi ng ilog. Dahil sa malaking takot at pagkalito naiwan niya ang sanggol sa bangka sa ilog.<br><br>
            May nakapulot naman ng sanggol. Siya ay si Diyuhara, isang mangangalakal mula sa kabilang kaharian. Kanyang pinagyaman at iniuwi sa bahay ang sanggol. Itinuring niya itong anak. Pinangalanan nila ang sanggol ng Bisari. Habang lumalaki si Bidasari ay lalo pang gumaganda. Maligaya si Bidasari sa piling ng kanyang nakikilalang magulang.<br><br>
            Sa kaharian ng Indrapura, ang sultang Mongindra ay dalawang taon pa lamang kasal kay Lila Sari. Mapanibughuin si Lila Sari. Natatakot siyang umibig pa sa ibang babae ang sultan. Kaya lagi niyang itinatanong sa sultan, kung siya'y mahal nito na sasagutin naman ng sultan ng : mahal na mahal ka sa akin. Hindi pa rin nasisiyahan ang magandang asawa ng sultan. Kaniyang itinanong na minsan sa sultan: Hindi mo kaya ako malimutan kung may makita kang higit na maganda kaysa akin? Ang naging tugon ng Sultan ay: Kung higit na maganda pa sa iyo, ngunit ikaw ang pinakamaganda sa lahat. Nag-alala ang sultana na baka may lalo pang maganda sa kanya at ito ay makita ng sultan. Kaya't karakarakang inutusan niya ang matapat niyang mga kabig na saliksikin anh kaharian upang malaman kung may babaeng higit na maganda sa sultana.<br><br>
            Nakita ng mga tauhan ni Lila Sari si Bidasari at siya ay higit na maganda kaysa kay Lila Sari.<br><br>
            Inanyayahan ng Sultana si Bidasari sa palasyo upang diumano ay gagawing dama ng sultana. Ngunit pagsapit doon, si Bidasari ay lihim na ikinulong ni Lila Sari sa isang silid at doon pinarurusahan.<br><br>
            Nang hindi na matiis ni Bidasari ang mga pagpaparusa sa kanya, sinabi niyang kunin ang isdang ginto sa halamanan ng kanyang ama. Kapag araw ito'y ipinakukuwintas kay Lila Sari at sa gabi'y ibinabalik sa tubig at hindi maglalaon si Bidasari ay mamamatay. Pumayag si Lila Sari. Kinuha niya ang isdang ginto at pinauwi na niya si Bidasari.<br><br>
            Isinuot nga ni Lila Sari ang kuwintas ng gintong isda sa araw at ibinabalik sa tubig kung gabi. Kaya't si Bidasari ay nakaburol kung araw at muling nabubuhay sa gabi. Nag-alala si Diyuhara na baka tuluyang patayin si Bidasari. Kaya nagpagawa siya ng isang magandang palasyo sa gubat at doon niya itinira nang mag-isa si Bidasari.<br><br>
            Isang araw, ang Sultan Mongindra ay nangaso sa gubat. Nakita niya ang isang magandang palasyo. Ito'y nakapinid. Pinilit niyang buksan ang pinto. Pinasok niya ang mga silid. Nakita niya ang isang napakagandang babae na natutulog. Ito ay si Bidasari. Hindi niya magising si Bidasari. Umuwi si Sultan Mongindra na hindi nakausap si Bidasari. Bumalik ang sultan kinabukasan. Naghintay siya hanggang gabi. Kinagabihan nabuhay si Bidasari. Nakausap siya ni Sultan Mongindra. Ipinagtapat si Bidasari ang mga ginawa ni Lila Sari. Galit na galit ang sultan. Iniwan niya si Lila Sari sa palasyo at agad niyang pinakasalan si Bidasari. Si Bidasari na ang naging reyna.<br><br>
            Samantala, pagkaraan ng maraming taon ang tunay na mga magulang ni Bidasari ay matahimik nang naninirahang muli sa Kembayat. Nagkaroon pa sila ng isang supling. Ito'y si Sinapati. Nang pumunta sa Kembayat ang isang anak ni Diyuhara ay nakita niya si Sinapati, anak ng sultan at sultana ng Kembayat.<br><br>
            Si Sinapati ay kamukhang-kamukha si Bidasari. Kinaibigan nito si Sinapati at ibinalita ang kapatid niyang si Bidasari sa kamukhang-kamukha ni Sinapati. Itinanong ni Sinipati sa mga magulang kung wala siyang kapatid na nawawalay sa kanila. Pinasama ng ama si Sinapati sa Indrapura. Nang magkita si Bidasari at si Sinapati ay kapwa sila nangilalas dahil sa silang dalawa ay magkamukhang-magkamukha. Natunton ng Sultan ng Kembayat ang nawawala niyang anak na si Bidasari. Nalaman ng sultan ng Indrapura na ang kanyang pinakasalang si Bidasari ay isa palang tunay na prinsesa.
        </p>
    </div>

    <!-- Main Content Section -->
    <div class="bg-black bg-opacity-90 py-12 flex flex-col items-center justify-center">
        <h1 class="font-semibold text-3xl text-gray-200 mb-8">Character</h1>
    
        <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
            <!-- Features Section -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Feature 1: Explore -->
                <div class="flex flex-col items-center">
                    <img src="/images/Bidasari1.png" alt="Customize Icon" class="h-24 w-24 mb-4">
                    <h2 class="font-semibold text-xl text-gray-200 mb-2">Bidasari</h2>
                    <p class="text-gray-300">Anak ni Sultan at Sultana na nawala dahil sa kaguluhan, napangasawa ni Sultan Mongrinda.</p>
                </div>
                <div class="flex flex-col items-center">
                    <img src="/images/SutanMongrinda.png" alt="Explore Icon" class="h-24 w-24 mb-4">
                    <h2 class="font-semibold text-xl text-gray-200 mb-2">Sultan Mongrinda</h2>
                    <p class="text-gray-300">Dating asawa ni Lila Sari, pinakasalan/inasawa ni Bidasari.</p>
                </div>
                <!-- Feature 2: Battle -->
                <div class="flex flex-col items-center">
                    <img src="/images/Sultana.png" alt="Battle Icon" class="h-24 w-24 mb-4">
                    <h2 class="font-semibold text-xl text-gray-200 mb-2">Sultana</h2>
                    <p class="text-gray-300">Tunay na magulang ni Bidasari.</p>
                </div>
                <!-- Feature 3: Customize -->
                <div class="flex flex-col items-center">
                    <img src="/images/Sultan.png" alt="Customize Icon" class="h-24 w-24 mb-4">
                    <h2 class="font-semibold text-xl text-gray-200 mb-2">Sultan</h2>
                    <p class="text-gray-300">Tunay na magulang ni Bidasari.</p>
                </div>
                <div class="flex flex-col items-center">
                    <img src="/images/Sinapati.png" alt="Customize Icon" class="h-24 w-24 mb-4">
                    <h2 class="font-semibold text-xl text-gray-200 mb-2">Sinapati</h2>
                    <p class="text-gray-300">Kapatid na babae ni Bidasari na kamukang kamuka nito.</p>
                </div>
                <div class="flex flex-col items-center">
                    <img src="/images/Lilasari.png" alt="Customize Icon" class="h-24 w-24 mb-4">
                    <h2 class="font-semibold text-xl text-gray-200 mb-2">Lilasari</h2>
                    <p class="text-gray-300">Dating asawa ni Sultan Mongrinda.</p>
                </div>
                <div class="flex flex-col items-center">
                    <img src="/images/Diyuhara.png" alt="Customize Icon" class="h-24 w-24 mb-4">
                    <h2 class="font-semibold text-xl text-gray-200 mb-2">Diyuhara</h2>
                    <p class="text-gray-300">Mangangalakal na  nakapulot kay Bidasari nung sanggol pa ito sa tabing ilog  at nagkupkop dito.</p>
                </div>
            </div>
        </div>
    </div>
    

    <!-- Call to Action Section -->
    <div class="bg-gray-800 py-12 flex flex-col items-center justify-center">
        <div class="max-w-7xl mx-auto sm:px-6 lg:px-8 text-center mb-8">
            <h2 class="text-3xl font-bold text-white mb-4">Join the Adventure Today!</h2>
            <p class="text-lg text-gray-300 mb-8">Play now and begin your quest to become a legend.</p>
        </div>
        <div class="shrink-0 flex items-center justify-center sm:justify-start">

                <button id="playButton" class="relative cursor-pointer opacity-90 hover:opacity-100 transition-opacity p-[2px] bg-black rounded-[16px] bg-gradient-to-t from-[#8122b0] to-[#dc98fd] active:scale-95">
                    <span class="w-full h-full flex items-center gap-2 px-8 py-3 bg-[#B931FC] text-white rounded-[14px] bg-gradient-to-t from-[#a62ce2] to-[#c045fc]">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                            <path d="M8 13V9m-2 2h4m5-2v.001M18 12v.001m4-.334v5.243a3.09 3.09 0 0 1-5.854 1.382L16 18a3.618 3.618 0 0 0-3.236-2h-1.528c-1.37 0-2.623.774-3.236 2l-.146.292A3.09 3.09 0 0 1 2 16.91v-5.243A6.667 6.667 0 0 1 8.667 5h6.666A6.667 6.667 0 0 1 22 11.667Z"></path>
                        </svg>
                        Play Now!
                    </span>
                </button>
        </div>
    </div>

    <!-- Send Feedback Form -->
    <div class="bg-gray-800 py-12 flex flex-col items-center justify-center">
        <div class="max-w-7xl mx-auto sm:px-6 lg:px-8 text-center mb-8">
            <h2 class="text-3xl font-bold text-white mb-4">Send Feedback</h2>
            <p class="text-lg text-gray-300 mb-8">We'd love to hear your thoughts! Please send us your feedback.</p>
        </div>
        <form id="feedbackForm" action="{{ route('feedback.submit') }}" method="POST" class="w-full max-w-lg">
            @csrf
            <input type="hidden" name="user_name" value="{{ auth()->user()->name }}">
            <div class="mb-6">
                <label for="feedback" class="block text-gray-300 text-lg mb-2">Your Feedback</label>
                <textarea id="feedback" name="feedback" rows="4" class="w-full px-3 py-2 text-gray-800 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500"></textarea>
            </div>
            <div class="flex justify-center">
                <button type="submit" class="px-6 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-500 focus:outline-none focus:bg-indigo-500">Submit</button>
            </div>
        </form>

        <div id="preloader" class="hidden fixed inset-0 z-50 items-center justify-center bg-white bg-opacity-90">
            <div class="vader">
                <div class="shadow"></div>
                <div class="head"><div class="helmet"><span class="left"></span><span class="right"></span></div><div class="eyes"><span class="left"></span><span class="right"></span></div><span class="grill"><span class="left"></span><span class="center"></span><span class="right"></span></span><span class="mask"><span class="top"></span><span class="left"></span><span class="center"></span><span class="right"></span></span><span class="line"></span></div>
                <div class="torso"><span class="neck"><span class="left"></span><span class="center"></span><span class="right"></span><span class="bottom"></span></span><span class="belt"><span class="center"></span></span><div class="plate"><span class="red_top"></span><span class="red_center"></span><span class="red_bottom"></span><span class="blue"></span><span class="gray"></span></div></div>
                <div class="hand left"><span class="hand"></span></div>
                <div class="hand right animation-right"><span class="hand"></span></div>
                <div class="legs"><span class="left"></span><span class="right"></span></div>
                <div class="boots"><span class="left"></span><span class="right"></span></div>
                <div class="sword animation-left"><span class="handle"></span><span class="light"></span></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('feedbackForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent the default form submission
            var feedbackInput = document.getElementById('feedback');
            var feedbackValue = feedbackInput.value.trim(); // Trim any whitespace from the input

            if (feedbackValue === '') {
                // If feedback is empty, show an alert message
                Swal.fire({
                    icon: 'error',
                    title: 'Oops...',
                    text: 'Please type a feedback message before submitting.',
                });
                return; // Stop further processing
            }

            var formData = new FormData(this);

            // Send an AJAX request to submit the form data
            fetch(this.action, {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (response.ok) {
                    // If the response is successful, show Sweet Alert notification
                    Swal.fire({
                        icon: 'success',
                        title: 'Feedback Submitted!',
                        text: 'Thank you for your feedback.',
                        timer: 3000, // Close the alert after 3 seconds
                        timerProgressBar: true,
                        showConfirmButton: false
                    });
                    // Optionally, you can reset the form after successful submission
                    this.reset();
                } else {
                    // If the response is not successful, handle errors accordingly
                    // You can add error handling here if needed
                    console.error('Error submitting feedback:', response.statusText);
                }
            })
            .catch(error => {
                console.error('Error submitting feedback:', error);
            });
        });
   function showPreloader() {
        document.getElementById('preloader').classList.remove('hidden');
    }

    function hidePreloader() {
        document.getElementById('preloader').classList.add('hidden');
    }

    window.addEventListener('load', function() {
        showPreloader();
    });

    function showPreloaderAndRedirect() {
        showPreloader(); 

        setTimeout(function() {
            window.location.href = "{{ route('game') }}";
        }, 3000); 
    }

    document.getElementById('playNowButton').addEventListener('click', function() {
        showPreloaderAndRedirect(); 
    });
    document.getElementById('playButton').addEventListener('click', function() {
        showPreloaderAndRedirect(); 
    });

    window.addEventListener('load', function() {
        hidePreloader();
    });

    </script>
</x-app-layout>
    